<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <link rel="icon" type="image/png" href="image.png">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Vote Master â€” Current Vote</title>

  <link rel="stylesheet" href="styles.css">

  <!-- QR Generator -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body>
  <div class="app">

    <!-- Header -->
    <div class="card header">
      <div>
        <div class="title">Current Vote</div>
        <div class="subtitle">Cast votes</div>
      </div>
      <div>
        <button class="theme-toggle" onclick="toggleTheme()">ðŸ’¡</button>
      </div>
    </div>

    <!-- Vote content -->
    <div id="currentCard" class="card"></div>

    <!-- Navigation -->
    <div class="card">
      <div class="row">
        <button class="btn btn-primary" onclick="showShareLinkPopup()">Get Share Link</button>
        <button class="btn btn-ghost" onclick="go('index.html')">Home</button>
      </div>
    </div>

  </div>

  <!-- ===========================
       SHARE POPUP
       =========================== -->
  <div id="share_popup" class="card "style="
    display:none;
    position:fixed;
    top:50%; left:50%;
    transform:translate(-50%,-50%);
    z-index:999;
    background:var(--card-bg);
    padding:20px;
    width:330px;
    border-radius:18px;
    box-shadow:0 4px 15px rgba(0,0,0,0.25);
    color:var(--text-color);
    text-align:center;
  ">
    <div style="font-size:18px; font-weight:700;">Share Vote</div>

    <textarea id="share_link" style="
      width:100%;
      height:90px;
      margin-top:12px;
      padding:10px;
      border-radius:10px;
      background:var(--card-bg);
      color:var(--text-color);
      resize:none;"></textarea>

    <div style="margin-top:10px;">
      <button class="btn btn-primary" onclick="share_copy()">Copy</button>
      <button class="btn btn-primary" onclick="share_showQR()">QR Code</button>
      <button class="btn btn-ghost" onclick="share_close()">Close</button>
    </div>

    <!-- QR container -->
    <div id="share_qr" style="display:none; margin-top:10px;"></div>
  </div>

  <!-- Script -->
  <script src="script.js"></script>

  <script>
    /* ===========================
       LOAD FROM SHARE LINK
       =========================== */
    importVoteFromLink();

    // Render once data is imported
    document.addEventListener("DOMContentLoaded", () => {
      if (window.renderCurrentCard) renderCurrentCard();
    });
  </script>

</body>
</html>





